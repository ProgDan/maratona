#include<iostream>
using namespace std;
#include<queue>

int main()
{
	int t;
	long long a,b,c,n;
	priority_queue<int> q;
	while(t--)
	{
		cin>>a>>b>>c>>n; 
		p.push(1);
		for(int i=1;i<n;i++)
		{
			int s=q.size();
			if(s%2==0)
			q.push(((a*q[s/2-1] + b*(s-1) + c)%1000000007);
			else
			q.push(((a*q[s/2] + b*s + c)%1000000007);
		}
	}
}